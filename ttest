murtable struct Brick
    zmin::Int
    blocks::Vector{CartesianIndex}
end

function settle(bricks)
    settled = empty(bricks)
    occupied = Set{CartesianIndex}
    moved = Set{Int}
    for (i, brick) in bricks
        if brick.zmin == 1 || any(b -> b in occupied, filter(blo -> blo[3] == block.zmin, brick.blocks))
            push!(settled, brick)
            for b in brick.blocks
                push!(occupied, b)
            end
            break
        end
        brick.blocks .-= CartesianIndex(0, 0, 1)
        brick.zmin -= 1
        push!(settled, i)
    end
    return settled, length(occupied)
end

