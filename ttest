using Random

intervals = shuffle([[1, 2], [3, 5], [4, 6]])

function mergeintervals(intervals)
    @assert length(intervals) > 1
    sort!(intervals)
    a = [intervals[begin]]
    for v in @view intervals[begin+1:end]
        if a[end][end] >= v[begin]
            if a[end][end] < v[end]
                a[end][end] = v[end]
            end
        else
            push!(a, v)
        end
    end
    return a
end

@show mergeintervals(intervals)

