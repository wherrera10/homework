function bubblesort(arr::T) where T
    function recursebubble(a, remaining, sorted)
        if length(a) < 2
            if isempty(remaining)
                return sorted
            else
                x = popfirst!(a)
                return recursebubble(remaining, T(), x)
            end
        elseif length(a) > 1
            x = popfirst!(a)
            y = popfirst!(a)
            if x > y
                pushfirst!(remaining, y)
                pushfirst!(a, x)
            else
                pushfirst!(remaining, x)
                pushfirst!(a, y)
            end
            return bubble(a, remaining, sorted)
        end
    end
    bubblesort(a, T(), T())
end
