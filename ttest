""" https://rosettacode.org/wiki/Long_stairs """

struct LongStairs
    startstep::Int
    startlength::Int
    climbersteps::Int
    addsteps::Int
end

Base.length(LongStairs) = typemax(Int)
Base.eltype(ls::LongStairs) = Vector{Int}

function Base.iterate(s::LongStairs, param = (s.startstep, s.startlength))
     pos, len = param
     pos += s.climbersteps
     pos += sum(pos .> rand(1:len, s.addsteps))
     len += s.addsteps
     return [pos, len], (pos, len)
end

ls = LongStairs(1, 100, 1, 5)

@show collect(Iterators.take(ls, 20))
